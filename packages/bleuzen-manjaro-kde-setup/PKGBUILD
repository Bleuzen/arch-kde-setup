# Maintainer: Bleuzen <supgesu at gmail dot com>

pkgname=bleuzen-manjaro-kde-setup
pkgver=2020.10.07
pkgrel=2
pkgdesc="My Manjaro KDE setup"
arch=("x86_64")
url="https://github.com/Bleuzen/manjaro-kde-setup"
depends=("bleuzen-keyring" "bleuzen-repo" # my base packages
         "ttf-dejavu" # font
         "pamac-gtk" "pamac-tray-icon-plasma" "pamac-flatpak-plugin" # Graphical package manager
         "yay" # AUR helper
         "bash" "bash-completion"
         "zsh" "zsh-autosuggestions" "zsh-completions" "manjaro-zsh-config" # the better shell
         "iotop" # Disk activity monitor
         "nethogs" # Network monitor
         "htop" # Process monitor
         "neofetch" # display system information
         "kconfig" # used for apply-bleuzen-kde-user-config script
         "python" # used for my scripts
         "xdg-desktop-portal-kde"
         "plasma-browser-integration"
         "flatpak"
         "xorg-xrandr"
         "flac" "lame" "vorbis-tools" "opus-tools" # audio codecs
         "pavucontrol-qt"
         "breeze" "breeze-gtk" "breeze-icons" # Used in apply-bleuzen-user-config
         "materia-gtk-theme" "materia-kde" "kvantum-theme-materia" "papirus-icon-theme" # A theme that I like
         "hunspell" "hunspell-de" # spell checking
         "gnome-calculator" # Used in a shortcut
         )
optdepends=("pacredir"
            "proaudio-meta"
            "libreoffice-still" "libreoffice-still-de"
            "vlc"
            "chromium"
            "latte-dock"
            "gimp"
            "audacity"
            "obs-studio"
            "gnome-disk-utility"
            "ffaudioconverter"
            "kid3"
            "keepassxc"
            "youtube-dl"
            "telegram-desktop"
            "testdisk"
            "lollypop"
            "elisa"
            "kdenlive"
            "shotcut"
            "pulseeffects"
            "gstreamer-vaapi" "libvdpau-va-gl" "libva" "libva-vdpau-driver" "libva-intel-driver" "libva-mesa-driver"
            "kcm-wacomtablet"
            "flameshot"
            "kompare"
            "kgpg"
            "teamviewer"
            "paprefs")
conflicts=("octopi" "octopi-notifier-frameworks" "octopi-repoeditor" "alpm-octopi-utils" "octopi-cachecleaner" "octopi-pacmanhelper"
           "yaourt"
           "appimagelauncher")
install=$pkgname.install

package() {
  # Copy pacman hooks
#   mkdir -p "$pkgdir/etc/pacman.d/hooks"
#   mkdir -p "$pkgdir/etc/pacman.d/hooks.bin"
#   install -m644 "$srcdir/pacman/hooks/bleuzen-post-install.hook" "$pkgdir/etc/pacman.d/hooks/"
#   install -m755 "$srcdir/pacman/hooks.bin/bleuzen-post-install.sh" "$pkgdir/etc/pacman.d/hooks.bin/"

  # Copy scripts
  mkdir -p "$pkgdir/usr/bin/"
  for file in "$srcdir/scripts/*"
  do
    install -m755 $file "$pkgdir/usr/bin/"
  done

  # Copy hotkeys
  mkdir -p "$pkgdir/usr/share/khotkeys/"
  install "$srcdir/bleuzensshortcuts.khotkeys" "$pkgdir/usr/share/khotkeys/"
}
